!function(){"use strict";function e(e,n){return e.line-n.line||e.ch-n.ch}function n(e,n,t,r){this.line=n,this.ch=t,this.cm=e,this.text=e.getLine(n),this.min=r?r.from:e.firstLine(),this.max=r?r.to-1:e.lastLine()}function t(e,n){var t=e.cm.getTokenTypeAt(s(e.line,n));return t&&/\btag\b/.test(t)}function r(e){if(!(e.line>=e.max))return e.ch=0,e.text=e.cm.getLine(++e.line),!0}function i(e){if(!(e.line<=e.min))return e.text=e.cm.getLine(--e.line),e.ch=e.text.length,!0}function u(e){for(;;){var n=e.text.indexOf(">",e.ch);if(-1==n){if(r(e))continue;return}{if(t(e,n+1)){var i=e.text.lastIndexOf("/",n),u=i>-1&&!/\S/.test(e.text.slice(i+1,n));return e.ch=n+1,u?"selfClose":"regular"}e.ch=n+1}}}function f(e){for(;;){var n=e.ch?e.text.lastIndexOf("<",e.ch-1):-1;if(-1==n){if(i(e))continue;return}if(t(e,n+1)){F.lastIndex=n,e.ch=n;var r=F.exec(e.text);if(r&&r.index==n)return r}else e.ch=n}}function o(e){for(;;){F.lastIndex=e.ch;var n=F.exec(e.text);if(!n){if(r(e))continue;return}{if(t(e,n.index+1))return e.ch=n.index+n[0].length,n;e.ch=n.index+1}}}function l(e){for(;;){var n=e.ch?e.text.lastIndexOf(">",e.ch-1):-1;if(-1==n){if(i(e))continue;return}{if(t(e,n+1)){var r=e.text.lastIndexOf("/",n),u=r>-1&&!/\S/.test(e.text.slice(r+1,n));return e.ch=n+1,u?"selfClose":"regular"}e.ch=n}}}function c(e,n){for(var t=[];;){var r,i=o(e),f=e.line,l=e.ch-(i?i[0].length:0);if(!i||!(r=u(e)))return;if("selfClose"!=r)if(i[1]){for(var c=t.length-1;c>=0;--c)if(t[c]==i[2]){t.length=c;break}if(c<0&&(!n||n==i[2]))return{tag:i[2],from:s(f,l),to:s(e.line,e.ch)}}else t.push(i[2])}}function a(e,n){for(var t=[];;){var r=l(e);if(!r)return;if("selfClose"!=r){var i=e.line,u=e.ch,o=f(e);if(!o)return;if(o[1])t.push(o[2]);else{for(var c=t.length-1;c>=0;--c)if(t[c]==o[2]){t.length=c;break}if(c<0&&(!n||n==o[2]))return{tag:o[2],from:s(e.line,e.ch),to:s(i,u)}}}else f(e)}}var s=CodeMirror.Pos,h="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",F=new RegExp("<(/?)(["+h+"][A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*)","g");CodeMirror.registerHelper("fold","xml",function(e,t){for(var r=new n(e,t.line,0);;){var i,f=o(r);if(!f||r.line!=t.line||!(i=u(r)))return;if(!f[1]&&"selfClose"!=i){var t=s(r.line,r.ch),l=c(r,f[2]);return l&&{from:t,to:l.from}}}}),CodeMirror.tagRangeFinder=CodeMirror.fold.xml,CodeMirror.findMatchingTag=function(t,r,i){var o=new n(t,r.line,r.ch,i);if(-1!=o.text.indexOf(">")||-1!=o.text.indexOf("<")){var l=u(o),h=l&&s(o.line,o.ch),F=l&&f(o);if(l&&"selfClose"!=l&&F&&!(e(o,r)>0)){var x={from:s(o.line,o.ch),to:h,tag:F[2]};return F[1]?{open:a(o,F[2]),close:x,at:"close"}:(o=new n(t,h.line,h.ch,i),{open:x,close:c(o,F[2]),at:"open"})}}},CodeMirror.findEnclosingTag=function(e,t,r){for(var i=new n(e,t.line,t.ch,r);;){var u=a(i);if(!u)break;var f=c(new n(e,t.line,t.ch,r),u.tag);if(f)return{open:u,close:f}}},CodeMirror.scanForClosingTag=function(e,t,r,i){return!!c(new n(e,t.line,t.ch,i?{from:0,to:i}:null),r)}}();