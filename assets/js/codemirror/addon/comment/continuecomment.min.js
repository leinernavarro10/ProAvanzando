!function(){function e(e){var n=e.getCursor(),t=e.getTokenAt(n);if("comment"!=t.type||e.getOption("disableInput"))return CodeMirror.Pass;var o,i=CodeMirror.innerMode(e.getMode(),t.state).mode;if(i.blockCommentStart&&i.blockCommentContinue){var r,l=t.string.indexOf(i.blockCommentEnd),m=e.getRange(CodeMirror.Pos(n.line,0),CodeMirror.Pos(n.line,t.end));if(-1!=l&&l==t.string.length-i.blockCommentEnd.length);else if(0==t.string.indexOf(i.blockCommentStart)){if(o=m.slice(0,t.start),!/^\s*$/.test(o)){o="";for(var s=0;s<t.start;++s)o+=" "}}else-1!=(r=m.indexOf(i.blockCommentContinue))&&r+i.blockCommentContinue.length>t.start&&/^\s*$/.test(m.slice(0,r))&&(o=m.slice(0,r));null!=o&&(o+=i.blockCommentContinue)}if(null==o&&i.lineComment){var C=e.getLine(n.line);(r=C.indexOf(i.lineComment))>-1&&(o=C.slice(0,r),/\S/.test(o)?o=null:o+=i.lineComment+C.slice(r+i.lineComment.length).match(/^\s*/)[0])}if(null==o)return CodeMirror.Pass;e.replaceSelection("\n"+o,"end")}for(var n=["clike","css","javascript"],t=0;t<n.length;++t)CodeMirror.extendMode(n[t],{blockCommentContinue:" * "});CodeMirror.defineOption("continueComments",null,function(n,t,o){if(o&&o!=CodeMirror.Init&&n.removeKeyMap("continueComment"),t){var i={name:"continueComment"};i["string"==typeof t?t:"Enter"]=e,n.addKeyMap(i)}})}();