!function(){"use strict";function t(t,r){var a=r&&r.schemaInfo,n=r&&r.quoteChar||'"';if(a){var s=t.getCursor(),i=t.getTokenAt(s),o=CodeMirror.innerMode(t.getMode(),i.state);if("xml"==o.mode.name){var g,l=[],f=!1,h="<"==i.string.charAt(0);if(!o.state.tagName||h){h&&(g=i.string.slice(1),f=!0);var p=o.state.context,u=p&&a[p.tagName],c=p?u&&u.children:a["!top"];if(c)for(y=0;y<c.length;++y)g&&0!=c[y].lastIndexOf(g,0)||l.push("<"+c[y]);else for(var d in a)!a.hasOwnProperty(d)||"!top"==d||g&&0!=d.lastIndexOf(g,0)||l.push("<"+d);!p||g&&0!=("/"+p.tagName).lastIndexOf(g,0)||l.push("</"+p.tagName+">")}else{var m=(u=a[o.state.tagName])&&u.attrs;if(!m)return;if("string"==i.type||"="==i.string){var v,x=t.getRange(e(s.line,Math.max(0,s.ch-60)),e(s.line,"string"==i.type?i.start:i.end)).match(/([^\s\u00a0=<>\"\']+)=$/);if(!x||!m.hasOwnProperty(x[1])||!(v=m[x[1]]))return;"function"==typeof v&&(v=v.call(this,t)),"string"==i.type&&(g=i.string,/['"]/.test(i.string.charAt(0))&&(n=i.string.charAt(0),g=i.string.slice(1)),f=!0);for(var y=0;y<v.length;++y)g&&0!=v[y].lastIndexOf(g,0)||l.push(n+v[y]+n)}else{"attribute"==i.type&&(g=i.string,f=!0);for(var O in m)!m.hasOwnProperty(O)||g&&0!=O.lastIndexOf(g,0)||l.push(O)}}return{list:l,from:f?e(s.line,i.start):s,to:f?e(s.line,i.end):s}}}}var e=CodeMirror.Pos;CodeMirror.xmlHint=t,CodeMirror.registerHelper("hint","xml",t)}();