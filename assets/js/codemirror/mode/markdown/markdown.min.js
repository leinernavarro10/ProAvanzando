CodeMirror.defineMode("markdown",function(t,e){function n(t,e,n){return e.f=e.inline=n,n(t,e)}function i(t,e,n){return e.f=e.block=n,n(t,e)}function r(t){return t.linkTitle=!1,t.em=!1,t.strong=!1,t.quote=0,v||t.f!=o||(t.f=g,t.block=a),t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.thisLineHasContent=!1,null}function a(t,r){var a=t.sol(),o=!1!==r.list;!1!==r.list&&r.indentationDiff>=0?(r.indentationDiff<4&&(r.indentation-=r.indentationDiff),r.list=null):!1!==r.list&&r.indentation>0?(r.list=null,r.listDepth=Math.floor(r.indentation/4)):!1!==r.list&&(r.list=!1,r.listDepth=0);var s=null;if(r.indentationDiff>=4)return r.indentation-=4,t.skipToEnd(),F;if(t.eatSpace())return null;if(s=t.match(U))return r.header=s[0].length<=6?s[0].length:6,e.highlightFormatting&&(r.formatting="header"),r.f=r.inline,h(r);if(r.prevLineHasContent&&(s=t.match(A)))return r.header="="==s[0].charAt(0)?1:2,e.highlightFormatting&&(r.formatting="header"),r.f=r.inline,h(r);if(t.eat(">"))return r.indentation++,r.quote=a?1:r.quote+1,e.highlightFormatting&&(r.formatting="quote"),t.eatSpace(),h(r);if("["===t.peek())return n(t,r,u);if(t.match(O,!0))return H;if((!r.prevLineHasContent||o)&&(t.match(W,!1)||t.match(I,!1))){var g=null;return t.match(W,!0)?g="ul":(t.match(I,!0),g="ol"),r.indentation+=4,r.list=!0,r.listDepth++,e.taskLists&&t.match(R,!1)&&(r.taskList=!0),r.f=r.inline,e.highlightFormatting&&(r.formatting=["list","list-"+g]),h(r)}return e.fencedCodeBlocks&&t.match(/^```([\w+#]*)/,!0)?(r.localMode=M(RegExp.$1),r.localMode&&(r.localState=r.localMode.startState()),i(t,r,l),e.highlightFormatting&&(r.formatting="code-block"),r.code=!0,h(r)):n(t,r,r.inline)}function o(t,e){var n=x.token(t,e.htmlState);return(v&&!e.htmlState.tagName&&!e.htmlState.context||e.md_inside&&t.current().indexOf(">")>-1)&&(e.f=g,e.block=a,e.htmlState=null),n}function l(t,n){if(t.sol()&&t.match(/^```/,!0)){n.localMode=n.localState=null,n.f=g,n.block=a,e.highlightFormatting&&(n.formatting="code-block"),n.code=!0;var i=h(n);return n.code=!1,i}return n.localMode?n.localMode.token(t,n.localState):(t.skipToEnd(),F)}function h(t){var n=[];if(t.formatting){n.push(B),"string"==typeof t.formatting&&(t.formatting=[t.formatting]);for(var i=0;i<t.formatting.length;i++)n.push(B+"-"+t.formatting[i]),"header"===t.formatting[i]&&n.push(B+"-"+t.formatting[i]+t.header),"quote"===t.formatting[i]&&(!e.maxBlockquoteDepth||e.maxBlockquoteDepth>=t.quote?n.push(B+"-"+t.formatting[i]+"-"+t.quote):n.push("error"))}if(t.taskOpen)return n.push("meta"),n.length?n.join(" "):null;if(t.taskClosed)return n.push("property"),n.length?n.join(" "):null;if(t.linkHref)return n.push($),n.length?n.join(" "):null;if(t.strong&&n.push(N),t.em&&n.push(E),t.linkText&&n.push(y),t.code&&n.push(F),t.header&&(n.push(L),n.push(L+t.header)),t.quote&&(n.push(b),!e.maxBlockquoteDepth||e.maxBlockquoteDepth>=t.quote?n.push(b+"-"+t.quote):n.push(b+"-"+e.maxBlockquoteDepth)),!1!==t.list){var r=(t.listDepth-1)%3;r?1===r?n.push(w):n.push(D):n.push(q)}return t.trailingSpaceNewLine?n.push("trailing-space-new-line"):t.trailingSpace&&n.push("trailing-space-"+(t.trailingSpace%2?"a":"b")),n.length?n.join(" "):null}function s(t,e){if(t.match(P,!0))return h(e)}function g(t,n){var r=n.text(t,n);if(void 0!==r)return r;if(n.list)return n.list=null,h(n);if(n.taskList)return"x"!==t.match(R,!0)[1]?n.taskOpen=!0:n.taskClosed=!0,e.highlightFormatting&&(n.formatting="task"),n.taskList=!1,h(n);if(n.taskOpen=!1,n.taskClosed=!1,n.header&&t.match(/^#+$/,!0))return e.highlightFormatting&&(n.formatting="header"),h(n);var a=t.sol(),l=t.next();if(n.escape)return n.escape=!1,h(n);if("\\"===l)return e.highlightFormatting&&(n.formatting="escape"),n.escape=!0,h(n);if(n.linkTitle){n.linkTitle=!1;var s=l;"("===l&&(s=")");var g="^\\s*(?:[^"+(s=(s+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"))+"\\\\]+|\\\\\\\\|\\\\.)"+s;if(t.match(new RegExp(g),!0))return $}if("`"===l){var m=n.formatting;e.highlightFormatting&&(n.formatting="code");var u=h(n),d=t.pos;t.eatWhile("`");var p=1+t.pos-d;return n.code?p===C?(n.code=!1,u):(n.formatting=m,h(n)):(C=p,n.code=!0,h(n))}if(n.code)return h(n);if("!"===l&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return t.match(/\[[^\]]*\]/),n.inline=n.f=f,T;if("["===l&&t.match(/.*\](\(| ?\[)/,!1))return n.linkText=!0,e.highlightFormatting&&(n.formatting="link"),h(n);if("]"===l&&n.linkText){e.highlightFormatting&&(n.formatting="link");var k=h(n);return n.linkText=!1,n.inline=n.f=f,k}if("<"===l&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return n.f=n.inline=c,e.highlightFormatting&&(n.formatting="link"),(k=h(n))?k+=" ":k="",k+_;if("<"===l&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return n.f=n.inline=c,e.highlightFormatting&&(n.formatting="link"),(k=h(n))?k+=" ":k="",k+j;if("<"===l&&t.match(/^\w/,!1)){if(-1!=t.string.indexOf(">")){var v=t.string.substring(1,t.string.indexOf(">"));/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(v)&&(n.md_inside=!0)}return t.backUp(1),n.htmlState=CodeMirror.startState(x),i(t,n,o)}if("<"===l&&t.match(/^\/\w*?>/))return n.md_inside=!1,"tag";var S=!1;if(!e.underscoresBreakWords&&"_"===l&&"_"!==t.peek()&&t.match(/(\w)/,!1)){var M=t.pos-2;if(M>=0){var L=t.string.charAt(M);"_"!==L&&L.match(/(\w)/,!1)&&(S=!0)}}if("*"===l||"_"===l&&!S)if(a&&" "===t.peek());else{if(n.strong===l&&t.eat(l)){e.highlightFormatting&&(n.formatting="strong");u=h(n);return n.strong=!1,u}if(!n.strong&&t.eat(l))return n.strong=l,e.highlightFormatting&&(n.formatting="strong"),h(n);if(n.em===l){e.highlightFormatting&&(n.formatting="em");u=h(n);return n.em=!1,u}if(!n.em)return n.em=l,e.highlightFormatting&&(n.formatting="em"),h(n)}else if(" "===l&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return h(n);t.backUp(1)}return" "===l&&(t.match(/ +$/,!1)?n.trailingSpace++:n.trailingSpace&&(n.trailingSpaceNewLine=!0)),h(n)}function c(t,n){if(">"===t.next()){n.f=n.inline=g,e.highlightFormatting&&(n.formatting="link");var i=h(n);return i?i+=" ":i="",i+_}return t.match(/^[^>]+/,!0),_}function f(t,n){if(t.eatSpace())return null;var i=t.next();return"("===i||"["===i?(n.f=n.inline=m("("===i?")":"]"),e.highlightFormatting&&(n.formatting="link-string"),n.linkHref=!0,h(n)):"error"}function m(t){return function(n,i){if(n.next()===t){i.f=i.inline=g,e.highlightFormatting&&(i.formatting="link-string");var r=h(i);return i.linkHref=!1,r}return n.match(k(t),!0)&&n.backUp(1),i.linkHref=!0,h(i)}}function u(t,i){return t.match(/^[^\]]*\]:/,!1)?(i.f=d,t.next(),e.highlightFormatting&&(i.formatting="link"),i.linkText=!0,h(i)):n(t,i,g)}function d(t,n){if(t.match(/^\]:/,!0)){n.f=n.inline=p,e.highlightFormatting&&(n.formatting="link");var i=h(n);return n.linkText=!1,i}return t.match(/^[^\]]+/,!0),y}function p(t,e){return t.eatSpace()?null:(t.match(/^[^\s]+/,!0),void 0===t.peek()?e.linkTitle=!0:t.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),e.f=e.inline=g,$)}function k(t){return z[t]||(t=(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),z[t]=new RegExp("^(?:[^\\\\]|\\\\.)*?("+t+")")),z[t]}var v=CodeMirror.modes.hasOwnProperty("xml"),x=CodeMirror.getMode(t,v?{name:"xml",htmlMode:!0}:"text/plain"),S={html:"htmlmixed",js:"javascript",json:"application/json",c:"text/x-csrc","c++":"text/x-c++src",java:"text/x-java",csharp:"text/x-csharp","c#":"text/x-csharp",scala:"text/x-scala"},M=function(){var e,n={},i={},r=[];for(var a in CodeMirror.modes)CodeMirror.modes.propertyIsEnumerable(a)&&r.push(a);for(e=0;e<r.length;e++)n[r[e]]=r[e];var o=[];for(var a in CodeMirror.mimeModes)CodeMirror.mimeModes.propertyIsEnumerable(a)&&o.push({mime:a,mode:CodeMirror.mimeModes[a]});for(e=0;e<o.length;e++)i[o[e].mime]=o[e].mime;for(var l in S)(S[l]in n||S[l]in i)&&(n[l]=S[l]);return function(e){return n[e]?CodeMirror.getMode(t,n[e]):null}}();void 0===e.highlightFormatting&&(e.highlightFormatting=!1),void 0===e.maxBlockquoteDepth&&(e.maxBlockquoteDepth=0),void 0===e.underscoresBreakWords&&(e.underscoresBreakWords=!0),void 0===e.fencedCodeBlocks&&(e.fencedCodeBlocks=!1),void 0===e.taskLists&&(e.taskLists=!1);var C=0,L="header",F="comment",b="quote",q="variable-2",w="variable-3",D="keyword",H="hr",T="tag",B="formatting",_="link",j="link",y="link",$="string",E="em",N="strong",O=/^([*\-=_])(?:\s*\1){2,}\s*$/,W=/^[*\-+]\s+/,I=/^[0-9]+\.\s+/,R=/^\[(x| )\](?=\s)/,U=/^#+/,A=/^(?:\={1,}|-{1,})$/,P=/^[^#!\[\]*_\\<>` "'(]+/,z=[],G={startState:function(){return{f:a,prevLineHasContent:!1,thisLineHasContent:!1,block:a,htmlState:null,indentation:0,inline:g,text:s,escape:!1,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,em:!1,strong:!1,header:0,taskList:!1,list:!1,listDepth:0,quote:0,trailingSpace:0,trailingSpaceNewLine:!1}},copyState:function(t){return{f:t.f,prevLineHasContent:t.prevLineHasContent,thisLineHasContent:t.thisLineHasContent,block:t.block,htmlState:t.htmlState&&CodeMirror.copyState(x,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?CodeMirror.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,escape:!1,formatting:!1,linkTitle:t.linkTitle,em:t.em,strong:t.strong,header:t.header,taskList:t.taskList,list:t.list,listDepth:t.listDepth,quote:t.quote,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside}},token:function(t,e){if(e.formatting=!1,t.sol()){var n=t.match(/^\s*$/,!0)||e.header;if(e.header=0,n)return e.prevLineHasContent=!1,r(e);e.prevLineHasContent=e.thisLineHasContent,e.thisLineHasContent=!0,e.escape=!1,e.taskList=!1,e.code=!1,e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.f=e.block;var i=t.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length,a=4*Math.floor((i-e.indentation)/4);a>4&&(a=4);var o=e.indentation+a;if(e.indentationDiff=o-e.indentation,e.indentation=o,i>0)return null}return e.f(t,e)},innerMode:function(t){return t.block==o?{state:t.htmlState,mode:x}:t.localState?{state:t.localState,mode:t.localMode}:{state:t,mode:G}},blankLine:r,getType:h};return G},"xml"),CodeMirror.defineMIME("text/x-markdown","markdown");