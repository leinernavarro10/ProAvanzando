!function(t,e){function n(e){t.extend(!0,Ct,e)}function r(n,r,c){function u(t){at?p()&&(S(),M(t)):f()}function f(){ot=r.theme?"ui":"fc",n.addClass("fc"),r.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),r.theme&&n.addClass("ui-widget"),at=t("<div class='fc-content' style='position:relative'/>").prependTo(n),nt=new a(et,r),(rt=nt.render())&&n.prepend(rt),y(r.defaultView),r.handleWindowResize&&t(window).resize(x),m()||v()}function v(){setTimeout(function(){!it.start&&m()&&C()},0)}function h(){it&&(tt("viewDestroy",it,it,it.element),it.triggerEventDestroy()),t(window).unbind("resize",x),nt.destroy(),at.remove(),n.removeClass("fc fc-rtl ui-widget")}function p(){return n.is(":visible")}function m(){return t("body").is(":visible")}function y(t){it&&t==it.name||D(t)}function D(e){ht++,it&&(tt("viewDestroy",it,it,it.element),Y(),it.triggerEventDestroy(),G(),it.element.remove(),nt.deactivateButton(it.name)),nt.activateButton(e),it=new St[e](t("<div class='fc-view fc-view-"+e+"' style='position:relative'/>").appendTo(at),et),C(),$(),ht--}function C(t){(!it.start||t||gt<it.start||gt>=it.end)&&p()&&M(t)}function M(t){ht++,it.start&&(tt("viewDestroy",it,it,it.element),Y(),N()),G(),it.render(gt,t||0),T(),$(),(it.afterRender||O)(),_(),P(),tt("viewRender",it,it,it.element),it.trigger("viewDisplay",dt),ht--,z()}function E(){p()&&(Y(),N(),S(),T(),R())}function S(){lt=r.contentHeight?r.contentHeight:r.height?r.height-(rt?rt.height():0)-F(at):Math.round(at.width()/Math.max(r.aspectRatio,.5))}function T(){lt===e&&S(),ht++,it.setHeight(lt),it.setWidth(at.width()),ht--,st=n.outerWidth()}function x(){if(!ht)if(it.start){var t=++vt;setTimeout(function(){t==vt&&!ht&&p()&&st!=(st=n.outerWidth())&&(ht++,E(),it.trigger("windowResize",dt),ht--)},200)}else v()}function k(){N(),A()}function H(t){N(),R(t)}function R(t){p()&&(it.setEventData(pt),it.renderEvents(pt,t),it.trigger("eventAfterAllRender"))}function N(){it.triggerEventDestroy(),it.clearEvents(),it.clearEventData()}function z(){!r.lazyFetching||ut(it.visStart,it.visEnd)?A():R()}function A(){ft(it.visStart,it.visEnd)}function W(t){pt=t,R()}function L(t){H(t)}function _(){nt.updateTitle(it.title)}function P(){var t=new Date;t>=it.start&&t<it.end?nt.disableButton("today"):nt.enableButton("today")}function q(t,n,r){it.select(t,n,r===e||r)}function Y(){it&&it.unselect()}function B(){C(-1)}function j(){C(1)}function I(){i(gt,-1),C()}function V(){i(gt,1),C()}function X(){gt=new Date,C()}function J(t,e,n){t instanceof Date?gt=d(t):g(gt,t,e,n),C()}function U(t,n,r){t!==e&&i(gt,t),n!==e&&s(gt,n),r!==e&&l(gt,r),C()}function Z(){return d(gt)}function G(){at.css({width:"100%",height:at.height(),overflow:"hidden"})}function $(){at.css({width:"",height:"",overflow:""})}function Q(){return it}function K(t,n){if(n===e)return r[t];"height"!=t&&"contentHeight"!=t&&"aspectRatio"!=t||(r[t]=n,E())}function tt(t,e){if(r[t])return r[t].apply(e||dt,Array.prototype.slice.call(arguments,2))}var et=this;et.options=r,et.render=u,et.destroy=h,et.refetchEvents=k,et.reportEvents=W,et.reportEventChange=L,et.rerenderEvents=H,et.changeView=y,et.select=q,et.unselect=Y,et.prev=B,et.next=j,et.prevYear=I,et.nextYear=V,et.today=X,et.gotoDate=J,et.incrementDate=U,et.formatDate=function(t,e){return b(t,e,r)},et.formatDates=function(t,e,n){return w(t,e,n,r)},et.getDate=Z,et.getView=Q,et.option=K,et.trigger=tt,o.call(et,r,c);var nt,rt,at,ot,it,st,lt,ct,ut=et.isFetchNeeded,ft=et.fetchEvents,dt=n[0],vt=0,ht=0,gt=new Date,pt=[];g(gt,r.year,r.month,r.date),r.droppable&&t(document).bind("dragstart",function(e,n){var a=e.target,o=t(a);if(!o.parents(".fc").length){var i=r.dropAccept;(t.isFunction(i)?i.call(a,o):o.is(i))&&(ct=a,it.dragStart(ct,e,n))}}).bind("dragstop",function(t,e){ct&&(it.dragStop(ct,t,e),ct=null)})}function a(e,n){function r(){if(d=n.theme?"ui":"fc",n.header)return v=t("<table class='fc-header' style='width:100%'/>").append(t("<tr/>").append(o("left")).append(o("center")).append(o("right")))}function a(){v.remove()}function o(r){var a=t("<td class='fc-header-"+r+"'/>"),o=n.header[r];return o&&t.each(o.split(" "),function(r){r>0&&a.append("<span class='fc-header-space'/>");var o;t.each(this.split(","),function(r,i){if("title"==i)a.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),o&&o.addClass(d+"-corner-right"),o=null;else{var s;if(e[i]?s=e[i]:St[i]&&(s=function(){u.removeClass(d+"-state-hover"),e.changeView(i)}),s){var l=n.theme?P(n.buttonIcons,i):null,c=P(n.buttonText,i),u=t("<span class='fc-button fc-button-"+i+" "+d+"-state-default'>"+(l?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+l+"'/></span>":c)+"</span>").click(function(){u.hasClass(d+"-state-disabled")||s()}).mousedown(function(){u.not("."+d+"-state-active").not("."+d+"-state-disabled").addClass(d+"-state-down")}).mouseup(function(){u.removeClass(d+"-state-down")}).hover(function(){u.not("."+d+"-state-active").not("."+d+"-state-disabled").addClass(d+"-state-hover")},function(){u.removeClass(d+"-state-hover").removeClass(d+"-state-down")}).appendTo(a);Y(u),o||u.addClass(d+"-corner-left"),o=u}}}),o&&o.addClass(d+"-corner-right")}),a}function i(t){v.find("h2").html(t)}function s(t){v.find("span.fc-button-"+t).addClass(d+"-state-active")}function l(t){v.find("span.fc-button-"+t).removeClass(d+"-state-active")}function c(t){v.find("span.fc-button-"+t).addClass(d+"-state-disabled")}function u(t){v.find("span.fc-button-"+t).removeClass(d+"-state-disabled")}var f=this;f.render=r,f.destroy=a,f.updateTitle=i,f.activateButton=s,f.deactivateButton=l,f.disableButton=c,f.enableButton=u;var d,v=t([])}function o(n,r){function a(t,e){return!E||t<E||e>S}function o(t,e){E=t,S=e,A=[];var n=++F,r=R.length;N=r;for(var a=0;a<r;a++)i(R[a],n)}function i(e,r){s(e,function(a){if(r==F){if(a){n.eventDataTransform&&(a=t.map(a,n.eventDataTransform)),e.eventDataTransform&&(a=t.map(a,e.eventDataTransform));for(var o=0;o<a.length;o++)a[o].source=e,b(a[o]);A=A.concat(a)}--N||k(A)}})}function s(e,r){var a,o,i=Et.sourceFetchers;for(a=0;a<i.length;a++){if(!0===(o=i[a](e,E,S,r)))return;if("object"==typeof o)return void s(o,r)}var l=e.events;if(l)t.isFunction(l)?(m(),l(d(E),d(S),function(t){r(t),y()})):t.isArray(l)?r(l):r();else if(e.url){var c,u=e.success,f=e.error,v=e.complete;c=t.isFunction(e.data)?e.data():e.data;var h=t.extend({},c||{}),g=V(e.startParam,n.startParam),p=V(e.endParam,n.endParam);g&&(h[g]=Math.round(+E/1e3)),p&&(h[p]=Math.round(+S/1e3)),m(),t.ajax(t.extend({},Tt,e,{data:h,success:function(e){e=e||[];var n=I(u,this,arguments);t.isArray(n)&&(e=n),r(e)},error:function(){I(f,this,arguments),r()},complete:function(){I(v,this,arguments),y()}}))}else r()}function l(t){(t=c(t))&&(N++,i(t,F))}function c(e){if(t.isFunction(e)||t.isArray(e)?e={events:e}:"string"==typeof e&&(e={url:e}),"object"==typeof e)return w(e),R.push(e),e}function u(e){R=t.grep(R,function(t){return!D(t,e)}),A=t.grep(A,function(t){return!D(t.source,e)}),k(A)}function f(t){var e,n,r=A.length,a=x().defaultEventEnd,o=t.start-t._start,i=t.end?t.end-(t._end||a(t)):0;for(e=0;e<r;e++)(n=A[e])._id==t._id&&n!=t&&(n.start=new Date(+n.start+o),t.end?n.end?n.end=new Date(+n.end+i):n.end=new Date(+a(n)+i):n.end=null,n.title=t.title,n.url=t.url,n.allDay=t.allDay,n.className=t.className,n.editable=t.editable,n.color=t.color,n.backgroundColor=t.backgroundColor,n.borderColor=t.borderColor,n.textColor=t.textColor,b(n));b(t),k(A)}function v(t,e){b(t),t.source||(e&&(H.events.push(t),t.source=H),A.push(t)),k(A)}function h(e){if(e){if(!t.isFunction(e)){var n=e+"";e=function(t){return t._id==n}}A=t.grep(A,e,!0);for(r=0;r<R.length;r++)t.isArray(R[r].events)&&(R[r].events=t.grep(R[r].events,e,!0))}else{A=[];for(var r=0;r<R.length;r++)t.isArray(R[r].events)&&(R[r].events=[])}k(A)}function g(e){return t.isFunction(e)?t.grep(A,e):e?(e+="",t.grep(A,function(t){return t._id==e})):A}function m(){z++||T("loading",null,!0,x())}function y(){--z||T("loading",null,!1,x())}function b(t){var r=t.source||{},a=V(r.ignoreTimezone,n.ignoreTimezone);t._id=t._id||(t.id===e?"_fc"+xt++:t.id+""),t.date&&(t.start||(t.start=t.date),delete t.date),t._start=d(t.start=p(t.start,a)),t.end=p(t.end,a),t.end&&t.end<=t.start&&(t.end=null),t._end=t.end?d(t.end):null,t.allDay===e&&(t.allDay=V(r.allDayDefault,n.allDayDefault)),t.className?"string"==typeof t.className&&(t.className=t.className.split(/\s+/)):t.className=[]}function w(t){t.className?"string"==typeof t.className&&(t.className=t.className.split(/\s+/)):t.className=[];for(var e=Et.sourceNormalizers,n=0;n<e.length;n++)e[n](t)}function D(t,e){return t&&e&&C(t)==C(e)}function C(t){return("object"==typeof t?t.events||t.url:"")||t}var M=this;M.isFetchNeeded=a,M.fetchEvents=o,M.addEventSource=l,M.removeEventSource=u,M.updateEvent=f,M.renderEvent=v,M.removeEvents=h,M.clientEvents=g,M.normalizeEvent=b;for(var E,S,T=M.trigger,x=M.getView,k=M.reportEvents,H={events:[]},R=[H],F=0,N=0,z=0,A=[],O=0;O<r.length;O++)c(r[O])}function i(t,e,n){return t.setFullYear(t.getFullYear()+e),n||f(t),t}function s(t,e,n){if(+t){var r=t.getMonth()+e,a=d(t);for(a.setDate(1),a.setMonth(r),t.setMonth(r),n||f(t);t.getMonth()!=a.getMonth();)t.setDate(t.getDate()+(t<a?1:-1))}return t}function l(t,e,n){if(+t){var r=t.getDate()+e,a=d(t);a.setHours(9),a.setDate(r),t.setDate(r),n||f(t),c(t,a)}return t}function c(t,e){if(+t)for(;t.getDate()!=e.getDate();)t.setTime(+t+(t<e?1:-1)*Rt)}function u(t,e){return t.setMinutes(t.getMinutes()+e),t}function f(t){return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t}function d(t,e){return e?f(new Date(+t)):new Date(+t)}function v(){var t,e=0;do{t=new Date(1970,e++,1)}while(t.getHours());return t}function h(t,e){return Math.round((d(t,!0)-d(e,!0))/Ht)}function g(t,n,r,a){n!==e&&n!=t.getFullYear()&&(t.setDate(1),t.setMonth(0),t.setFullYear(n)),r!==e&&r!=t.getMonth()&&(t.setDate(1),t.setMonth(r)),a!==e&&t.setDate(a)}function p(t,n){return"object"==typeof t?t:"number"==typeof t?new Date(1e3*t):"string"==typeof t?t.match(/^\d+(\.\d+)?$/)?new Date(1e3*parseFloat(t)):(n===e&&(n=!0),m(t,n)||(t?new Date(t):null)):null}function m(t,e){var n=t.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!n)return null;var r=new Date(n[1],0,1);if(e||!n[13]){var a=new Date(n[1],0,1,9,0);n[3]&&(r.setMonth(n[3]-1),a.setMonth(n[3]-1)),n[5]&&(r.setDate(n[5]),a.setDate(n[5])),c(r,a),n[7]&&r.setHours(n[7]),n[8]&&r.setMinutes(n[8]),n[10]&&r.setSeconds(n[10]),n[12]&&r.setMilliseconds(1e3*Number("0."+n[12])),c(r,a)}else if(r.setUTCFullYear(n[1],n[3]?n[3]-1:0,n[5]||1),r.setUTCHours(n[7]||0,n[8]||0,n[10]||0,n[12]?1e3*Number("0."+n[12]):0),n[14]){var o=60*Number(n[16])+(n[18]?Number(n[18]):0);o*="-"==n[15]?1:-1,r=new Date(+r+60*o*1e3)}return r}function y(t){if("number"==typeof t)return 60*t;if("object"==typeof t)return 60*t.getHours()+t.getMinutes();var e=t.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(e){var n=parseInt(e[1],10);return e[3]&&(n%=12,"p"==e[3].toLowerCase().charAt(0)&&(n+=12)),60*n+(e[2]?parseInt(e[2],10):0)}}function b(t,e,n){return w(t,null,e,n)}function w(t,e,n,r){r=r||Ct;var a,o,i,s,l=t,c=e,u=n.length,f="";for(a=0;a<u;a++)if("'"==(o=n.charAt(a))){for(i=a+1;i<u;i++)if("'"==n.charAt(i)){l&&(f+=i==a+1?"'":n.substring(a+1,i),a=i);break}}else if("("==o){for(i=a+1;i<u;i++)if(")"==n.charAt(i)){var d=b(l,n.substring(a+1,i),r);parseInt(d.replace(/\D/,""),10)&&(f+=d),a=i;break}}else if("["==o){for(i=a+1;i<u;i++)if("]"==n.charAt(i)){var v=n.substring(a+1,i);(d=b(l,v,r))!=b(c,v,r)&&(f+=d),a=i;break}}else if("{"==o)l=e,c=t;else if("}"==o)l=t,c=e;else{for(i=u;i>a;i--)if(s=Nt[n.substring(a,i)]){l&&(f+=s(l,r)),a=i-1;break}i==a&&l&&(f+=o)}return f}function D(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1}function C(t){return t.end?M(t.end,t.allDay):l(d(t.start),1)}function M(t,e){return t=d(t),e||t.getHours()||t.getMinutes()?l(t,1):f(t)}function E(n,r,a){n.unbind("mouseover").mouseover(function(n){for(var o,i,s,l=n.target;l!=this;)o=l,l=l.parentNode;(i=o._fci)!==e&&(o._fci=e,s=r[i],a(s.event,s.element,s),t(n.target).trigger(n)),n.stopPropagation()})}function S(e,n,r){for(var a,o=0;o<e.length;o++)(a=t(e[o])).width(Math.max(0,n-x(a,r)))}function T(e,n,r){for(var a,o=0;o<e.length;o++)(a=t(e[o])).height(Math.max(0,n-F(a,r)))}function x(t,e){return k(t)+R(t)+(e?H(t):0)}function k(e){return(parseFloat(t.css(e[0],"paddingLeft",!0))||0)+(parseFloat(t.css(e[0],"paddingRight",!0))||0)}function H(e){return(parseFloat(t.css(e[0],"marginLeft",!0))||0)+(parseFloat(t.css(e[0],"marginRight",!0))||0)}function R(e){return(parseFloat(t.css(e[0],"borderLeftWidth",!0))||0)+(parseFloat(t.css(e[0],"borderRightWidth",!0))||0)}function F(t,e){return N(t)+A(t)+(e?z(t):0)}function N(e){return(parseFloat(t.css(e[0],"paddingTop",!0))||0)+(parseFloat(t.css(e[0],"paddingBottom",!0))||0)}function z(e){return(parseFloat(t.css(e[0],"marginTop",!0))||0)+(parseFloat(t.css(e[0],"marginBottom",!0))||0)}function A(e){return(parseFloat(t.css(e[0],"borderTopWidth",!0))||0)+(parseFloat(t.css(e[0],"borderBottomWidth",!0))||0)}function O(){}function W(t,e){return t-e}function L(t){return Math.max.apply(Math,t)}function _(t){return(t<10?"0":"")+t}function P(t,n){if(t[n]!==e)return t[n];for(var r,a=n.split(/(?=[A-Z])/),o=a.length-1;o>=0;o--)if((r=t[a[o].toLowerCase()])!==e)return r;return t[""]}function q(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Y(t){t.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function B(t){t.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function j(t,e){var n=t.source||{},r=t.color,a=n.color,o=e("eventColor"),i=t.backgroundColor||r||n.backgroundColor||a||e("eventBackgroundColor")||o,s=t.borderColor||r||n.borderColor||a||e("eventBorderColor")||o,l=t.textColor||n.textColor||e("eventTextColor"),c=[];return i&&c.push("background-color:"+i),s&&c.push("border-color:"+s),l&&c.push("color:"+l),c.join(";")}function I(e,n,r){if(t.isFunction(e)&&(e=[e]),e){var a,o;for(a=0;a<e.length;a++)o=e[a].apply(n,r)||o;return o}}function V(){for(var t=0;t<arguments.length;t++)if(arguments[t]!==e)return arguments[t]}function X(t,e){function n(t,e){e&&(s(t,e),t.setDate(1));var n=a("firstDay"),f=d(t,!0);f.setDate(1);var v=s(d(f),1),g=d(f);l(g,-(g.getDay()-n+7)%7),i(g);var p=d(v);l(p,(7-p.getDay()+n)%7),i(p,-1,!0);var m=c(),y=Math.round(h(p,g)/7);"fixed"==a("weekMode")&&(l(p,7*(6-y)),y=6),r.title=u(f,a("titleFormat")),r.start=f,r.end=v,r.visStart=g,r.visEnd=p,o(y,m,!0)}var r=this;r.render=n,Z.call(r,t,e,"month");var a=r.opt,o=r.renderBasic,i=r.skipHiddenDays,c=r.getCellsPerWeek,u=e.formatDate}function J(t,e){function n(t,e){e&&l(t,7*e);var n=l(d(t),-(t.getDay()-a("firstDay")+7)%7),u=l(d(n),7),f=d(n);i(f);var v=d(u);i(v,-1,!0);var h=s();r.start=n,r.end=u,r.visStart=f,r.visEnd=v,r.title=c(f,l(d(v),-1),a("titleFormat")),o(1,h,!1)}var r=this;r.render=n,Z.call(r,t,e,"basicWeek");var a=r.opt,o=r.renderBasic,i=r.skipHiddenDays,s=r.getCellsPerWeek,c=e.formatDates}function U(t,e){function n(t,e){e&&l(t,e),i(t,e<0?-1:1);var n=d(t,!0),c=l(d(n),1);r.title=s(t,a("titleFormat")),r.start=r.visStart=n,r.end=r.visEnd=c,o(1,1,!1)}var r=this;r.render=n,Z.call(r,t,e,"basicDay");var a=r.opt,o=r.renderBasic,i=r.skipHiddenDays,s=e.formatDate}function Z(e,n,r){function a(t,e,n){et=t,nt=e,rt=n,o(),j||i(),s()}function o(){lt=ht("theme")?"ui":"fc",ct=ht("columnFormat"),ut=ht("weekNumbers"),dt=ht("weekNumberTitle"),vt="iso"!=ht("weekNumberCalculation")?"w":"W"}function i(){Z=t("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(e)}function s(){var n=c();L&&L.remove(),L=t(n).appendTo(e),_=L.find("thead"),P=_.find(".fc-day-header"),j=L.find("tbody"),I=j.find("tr"),V=j.find(".fc-day"),X=I.find("td:first-child"),J=I.eq(0).find(".fc-day > div"),U=I.eq(0).find(".fc-day-content > div"),B(_.add(_.find("tr"))),B(I),I.eq(0).addClass("fc-first"),I.filter(":last").addClass("fc-last"),V.each(function(e,n){var r=Et(Math.floor(e/nt),e%nt);gt("dayRender",W,r,t(n))}),y(V)}function c(){return"<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+u()+v()+"</table>"}function u(){var t,e,n=lt+"-widget-header",r="";for(r+="<thead><tr>",ut&&(r+="<th class='fc-week-number "+n+"'>"+q(dt)+"</th>"),t=0;t<nt;t++)e=Et(0,t),r+="<th class='fc-day-header fc-"+kt[e.getDay()]+" "+n+"'>"+q(xt(e,ct))+"</th>";return r+="</tr></thead>"}function v(){var t,e,n,r=lt+"-widget-content",a="";for(a+="<tbody>",t=0;t<et;t++){for(a+="<tr class='fc-week'>",ut&&(n=Et(t,0),a+="<td class='fc-week-number "+r+"'><div>"+q(xt(n,vt))+"</div></td>"),e=0;e<nt;e++)a+=h(n=Et(t,e));a+="</tr>"}return a+="</tbody>"}function h(t){var e=lt+"-widget-content",n=W.start.getMonth(),r=f(new Date),a="",o=["fc-day","fc-"+kt[t.getDay()],e];return t.getMonth()!=n&&o.push("fc-other-month"),+t==+r?o.push("fc-today",lt+"-state-highlight"):t<r?o.push("fc-past"):o.push("fc-future"),a+="<td class='"+o.join(" ")+"' data-date='"+xt(t,"yyyy-MM-dd")+"'><div>",rt&&(a+="<div class='fc-day-number'>"+t.getDate()+"</div>"),a+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}function g(e){var n,r,a,o=(Q=e)-_.height();"variable"==ht("weekMode")?n=r=Math.floor(o/(1==et?2:6)):(n=Math.floor(o/et),r=o-n*(et-1)),X.each(function(e,o){e<et&&(a=t(o)).find("> div").css("min-height",(e==et-1?r:n)-F(a))})}function p(t){$=t,it.clear(),st.clear(),tt=0,ut&&(tt=_.find("th.fc-week-number").outerWidth()),K=Math.floor(($-tt)/nt),S(P.slice(0,-1),K)}function y(t){t.click(b).mousedown(Mt)}function b(e){if(!ht("selectable")){var n=m(t(this).data("date"));gt("dayClick",this,n,!0,e)}}function w(t,e,n){n&&at.build();for(var r=Tt(t,e),a=0;a<r.length;a++){var o=r[a];y(D(o.row,o.leftCol,o.row,o.rightCol))}}function D(t,n,r,a){var o=at.rect(t,n,r,a,e);return wt(o,e)}function C(t,e){return d(t)}function M(t,e,n){w(t,l(d(e),1),!0)}function E(){Ct()}function T(t,e,n){var r=St(t),a=V[r.row*nt+r.col];gt("dayClick",a,t,e,n)}function x(t,e,n){ot.start(function(t){Ct(),t&&D(t.row,t.col,t.row,t.col)},e)}function k(t,e,n){var r=ot.stop();if(Ct(),r){var a=Et(r);gt("drop",t,a,!0,e,n)}}function H(t){return d(t.start)}function R(t){return it.left(t)}function N(t){return it.right(t)}function z(t){return st.left(t)}function A(t){return st.right(t)}function O(t){return I.eq(t)}var W=this;W.renderBasic=a,W.setHeight=g,W.setWidth=p,W.renderDayOverlay=w,W.defaultSelectionEnd=C,W.renderSelection=M,W.clearSelection=E,W.reportDayClick=T,W.dragStart=x,W.dragStop=k,W.defaultEventEnd=H,W.getHoverListener=function(){return ot},W.colLeft=R,W.colRight=N,W.colContentLeft=z,W.colContentRight=A,W.getIsCellAllDay=function(){return!0},W.allDayRow=O,W.getRowCnt=function(){return et},W.getColCnt=function(){return nt},W.getColWidth=function(){return K},W.getDaySegmentContainer=function(){return Z},ft.call(W,e,n,r),mt.call(W),pt.call(W),G.call(W);var L,_,P,j,I,V,X,J,U,Z,$,Q,K,tt,et,nt,rt,at,ot,it,st,lt,ct,ut,dt,vt,ht=W.opt,gt=W.trigger,wt=W.renderOverlay,Ct=W.clearOverlays,Mt=W.daySelectionMousedown,Et=W.cellToDate,St=W.dateToCell,Tt=W.rangeToSegments,xt=n.formatDate;Y(e.addClass("fc-grid")),at=new yt(function(e,n){var r,a,o;P.each(function(e,i){r=t(i),a=r.offset().left,e&&(o[1]=a),o=[a],n[e]=o}),o[1]=a+r.outerWidth(),I.each(function(n,i){n<et&&(r=t(i),a=r.offset().top,n&&(o[1]=a),o=[a],e[n]=o)}),o[1]=a+r.outerHeight()}),ot=new bt(at),it=new Dt(function(t){return J.eq(t)}),st=new Dt(function(t){return U.eq(t)})}function G(){function t(t,e){n.renderDayEvents(t,e)}function e(){n.getDaySegmentContainer().empty()}var n=this;n.renderEvents=t,n.clearEvents=e,dt.call(n)}function $(t,e){function n(t,e){e&&l(t,7*e);var n=l(d(t),-(t.getDay()-a("firstDay")+7)%7),u=l(d(n),7),f=d(n);i(f);var v=d(u);i(v,-1,!0);var h=s();r.title=c(f,l(d(v),-1),a("titleFormat")),r.start=n,r.end=u,r.visStart=f,r.visEnd=v,o(h)}var r=this;r.render=n,K.call(r,t,e,"agendaWeek");var a=r.opt,o=r.renderAgenda,i=r.skipHiddenDays,s=r.getCellsPerWeek,c=e.formatDates}function Q(t,e){function n(t,e){e&&l(t,e),i(t,e<0?-1:1);var n=d(t,!0),c=l(d(n),1);r.title=s(t,a("titleFormat")),r.start=r.visStart=n,r.end=r.visEnd=c,o(1)}var r=this;r.render=n,K.call(r,t,e,"agendaDay");var a=r.opt,o=r.renderAgenda,i=r.skipHiddenDays,s=e.formatDate}function K(n,r,a){function o(t){At=t,i(),K?c():s()}function i(){qt=Ut("theme")?"ui":"fc",Yt=Ut("isRTL"),Bt=y(Ut("minTime")),jt=y(Ut("maxTime")),It=Ut("columnFormat"),Vt=Ut("weekNumbers"),Xt=Ut("weekNumberTitle"),Jt="iso"!=Ut("weekNumberCalculation")?"w":"W",Ft=Ut("snapMinutes")||Ut("slotMinutes")}function s(){var e,r,a,o,i,s=qt+"-widget-header",l=qt+"-widget-content",f=Ut("slotMinutes")%15==0;for(c(),ct=t("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(n),Ut("allDaySlot")?(ut=t("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ct),e="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+s+" fc-agenda-axis'>"+Ut("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+s+" fc-agenda-gutter'>&nbsp;</th></tr></table>",dt=t(e).appendTo(ct),C((vt=dt.find("tr")).find("td")),ct.append("<div class='fc-agenda-divider "+s+"'><div class='fc-agenda-divider-inner'/></div>")):ut=t([]),ht=t("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(ct),gt=t("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(ht),wt=t("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(gt),e="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",o=u(d(r=v()),jt),u(r,Bt),Ot=0,a=0;r<o;a++)e+="<tr class='fc-slot"+a+" "+((i=r.getMinutes())?"fc-minor":"")+"'><th class='fc-agenda-axis "+s+"'>"+(f&&i?"&nbsp;":oe(r,Ut("axisFormat")))+"</th><td class='"+l+"'><div style='position:relative'>&nbsp;</div></td></tr>",u(r,Ut("slotMinutes")),Ot++;M((Ct=t(e+="</tbody></table>").appendTo(gt)).find("td"))}function c(){var e=h();K&&K.remove(),K=t(e).appendTo(n),et=K.find("thead"),nt=et.find("th").slice(1,-1),rt=K.find("tbody"),at=rt.find("td").slice(0,-1),ot=at.find("> div"),it=at.find(".fc-day-content > div"),st=at.eq(0),lt=ot.eq(0),B(et.add(et.find("tr"))),B(rt.add(rt.find("tr")))}function h(){return"<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+g()+p()+"</table>"}function g(){var t,e,n,r=qt+"-widget-header",a="";for(a+="<thead><tr>",Vt?(t=ne(0,0),e=oe(t,Jt),Yt?e+=Xt:e=Xt+e,a+="<th class='fc-agenda-axis fc-week-number "+r+"'>"+q(e)+"</th>"):a+="<th class='fc-agenda-axis "+r+"'>&nbsp;</th>",n=0;n<At;n++)t=ne(0,n),a+="<th class='fc-"+kt[t.getDay()]+" fc-col"+n+" "+r+"'>"+q(oe(t,It))+"</th>";return a+="<th class='fc-agenda-gutter "+r+"'>&nbsp;</th></tr></thead>"}function p(){var t,e,n,r,a=qt+"-widget-header",o=qt+"-widget-content",i=f(new Date),s="";for(s+="<tbody><tr><th class='fc-agenda-axis "+a+"'>&nbsp;</th>",n="",e=0;e<At;e++)t=ne(0,e),r=["fc-col"+e,"fc-"+kt[t.getDay()],o],+t==+i?r.push(qt+"-state-highlight","fc-today"):t<i?r.push("fc-past"):r.push("fc-future"),n+="<td class='"+r.join(" ")+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";return s+=n,s+="<td class='fc-agenda-gutter "+o+"'>&nbsp;</td></tr></tbody>"}function m(t){t===e&&(t=St),St=t,ie={};var n=rt.position().top,r=ht.position().top,a=Math.min(t-n,Ct.height()+r+1);lt.height(a-F(st)),ct.css("top",n),ht.height(a-r-1),Rt=Ct.find("tr:first").height()+1,Nt=Ut("slotMinutes")/Ft,zt=Rt/Nt}function b(e){Et=e,_t.clear(),Pt.clear();var n=et.find("th:first");dt&&(n=n.add(dt.find("th:first"))),n=n.add(Ct.find("th:first")),Tt=0,S(n.width("").each(function(e,n){Tt=Math.max(Tt,t(n).outerWidth())}),Tt);var r=K.find(".fc-agenda-gutter");dt&&(r=r.add(dt.find("th.fc-agenda-gutter")));var a=ht[0].clientWidth;(Ht=ht.width()-a)?(S(r,Ht),r.show().prev().removeClass("fc-last")):r.hide().prev().addClass("fc-last"),xt=Math.floor((a-Tt)/At),S(nt.slice(0,-1),xt)}function w(){function t(){ht.scrollTop(r)}var e=v(),n=d(e);n.setHours(Ut("firstHour"));var r=_(e,n)+1;t(),setTimeout(t,0)}function D(){w()}function C(t){t.click(E).mousedown(te)}function M(t){t.click(E).mousedown(U)}function E(t){if(!Ut("selectable")){var e=Math.min(At-1,Math.floor((t.pageX-K.offset().left-Tt)/xt)),n=ne(0,e),r=this.parentNode.className.match(/fc-slot(\d+)/);if(r){var a=parseInt(r[1])*Ut("slotMinutes"),o=Math.floor(a/60);n.setHours(o),n.setMinutes(a%60+Bt),Zt("dayClick",at[e],n,!1,t)}else Zt("dayClick",at[e],n,!0,t)}}function x(t,e,n){n&&Wt.build();for(var r=ae(t,e),a=0;a<r.length;a++){var o=r[a];C(k(o.row,o.leftCol,o.row,o.rightCol))}}function k(t,e,n,r){var a=Wt.rect(t,e,n,r,ct);return Gt(a,ct)}function H(t,e){for(var n=0;n<At;n++){var r=ne(0,n),a=l(d(r),1),o=new Date(Math.max(r,t)),i=new Date(Math.min(a,e));if(o<i){var s=Wt.rect(0,n,0,n,gt),c=_(r,o),u=_(r,i);s.top=c,s.height=u-c,M(Gt(s,gt))}}}function R(t){return _t.left(t)}function N(t){return Pt.left(t)}function z(t){return _t.right(t)}function A(t){return Pt.right(t)}function O(t){return Ut("allDaySlot")&&!t.row}function L(t){var e=ne(0,t.col),n=t.row;return Ut("allDaySlot")&&n--,n>=0&&u(e,Bt+n*Ft),e}function _(t,n){if(t=d(t,!0),n<u(d(t),Bt))return 0;if(n>=u(d(t),jt))return Ct.height();var r=Ut("slotMinutes"),a=60*n.getHours()+n.getMinutes()-Bt,o=Math.floor(a/r),i=ie[o];return i===e&&(i=ie[o]=Ct.find("tr").eq(o).find("td div")[0].offsetTop),Math.max(0,Math.round(i-1+Rt*(a%r/r)))}function P(t){return vt}function j(t){var e=d(t.start);return t.allDay?e:u(e,Ut("defaultEventMinutes"))}function I(t,e){return e?d(t):u(d(t),Ut("slotMinutes"))}function V(t,e,n){n?Ut("allDaySlot")&&x(t,l(d(e),1),!0):X(t,e)}function X(e,n){var r=Ut("selectHelper");if(Wt.build(),r){var a=re(e).col;if(a>=0&&a<At){var o=Wt.rect(0,a,0,a,gt),i=_(e,e),s=_(e,n);if(s>i){if(o.top=i,o.height=s-i,o.left+=2,o.width-=5,t.isFunction(r)){var l=r(e,n);l&&(o.position="absolute",Mt=t(l).css(o).appendTo(gt))}else o.isStart=!0,o.isEnd=!0,(Mt=t(ee({title:"",start:e,end:n,className:["fc-select-helper"],editable:!1},o))).css("opacity",Ut("dragOpacity"));Mt&&(M(Mt),gt.append(Mt),S(Mt,o.width,!0),T(Mt,o.height,!0))}}}else H(e,n)}function J(){$t(),Mt&&(Mt.remove(),Mt=null)}function U(e){if(1==e.which&&Ut("selectable")){Kt(e);var n;Lt.start(function(t,e){if(J(),t&&t.col==e.col&&!O(t)){var r=L(e),a=L(t);X((n=[r,u(d(r),Ft),a,u(d(a),Ft)].sort(W))[0],n[3])}else n=null},e),t(document).one("mouseup",function(t){Lt.stop(),n&&(+n[0]==+n[1]&&Z(n[0],!1,t),Qt(n[0],n[3],!1,t))})}}function Z(t,e,n){Zt("dayClick",at[re(t).col],t,e,n)}function G(t,e,n){Lt.start(function(t){if($t(),t)if(O(t))k(t.row,t.col,t.row,t.col);else{var e=L(t);H(e,u(d(e),Ut("defaultEventMinutes")))}},e)}function $(t,e,n){var r=Lt.stop();$t(),r&&Zt("drop",t,L(r),O(r),e,n)}var Q=this;Q.renderAgenda=o,Q.setWidth=b,Q.setHeight=m,Q.afterRender=D,Q.defaultEventEnd=j,Q.timePosition=_,Q.getIsCellAllDay=O,Q.allDayRow=P,Q.getCoordinateGrid=function(){return Wt},Q.getHoverListener=function(){return Lt},Q.colLeft=R,Q.colRight=z,Q.colContentLeft=N,Q.colContentRight=A,Q.getDaySegmentContainer=function(){return ut},Q.getSlotSegmentContainer=function(){return wt},Q.getMinMinute=function(){return Bt},Q.getMaxMinute=function(){return jt},Q.getSlotContainer=function(){return gt},Q.getRowCnt=function(){return 1},Q.getColCnt=function(){return At},Q.getColWidth=function(){return xt},Q.getSnapHeight=function(){return zt},Q.getSnapMinutes=function(){return Ft},Q.defaultSelectionEnd=I,Q.renderDayOverlay=x,Q.renderSelection=V,Q.clearSelection=J,Q.reportDayClick=Z,Q.dragStart=G,Q.dragStop=$,ft.call(Q,n,r,a),mt.call(Q),pt.call(Q),tt.call(Q);var K,et,nt,rt,at,ot,it,st,lt,ct,ut,dt,vt,ht,gt,wt,Ct,Mt,Et,St,Tt,xt,Ht,Rt,Ft,Nt,zt,At,Ot,Wt,Lt,_t,Pt,qt,Yt,Bt,jt,It,Vt,Xt,Jt,Ut=Q.opt,Zt=Q.trigger,Gt=Q.renderOverlay,$t=Q.clearOverlays,Qt=Q.reportSelection,Kt=Q.unselect,te=Q.daySelectionMousedown,ee=Q.slotSegHtml,ne=Q.cellToDate,re=Q.dateToCell,ae=Q.rangeToSegments,oe=r.formatDate,ie={};Y(n.addClass("fc-agenda")),Wt=new yt(function(e,n){function r(t){return Math.max(l,Math.min(c,t))}var a,o,i;nt.each(function(e,r){a=t(r),o=a.offset().left,e&&(i[1]=o),i=[o],n[e]=i}),i[1]=o+a.outerWidth(),Ut("allDaySlot")&&(o=(a=vt).offset().top,e[0]=[o,o+a.outerHeight()]);for(var s=gt.offset().top,l=ht.offset().top,c=l+ht.outerHeight(),u=0;u<Ot*Nt;u++)e.push([r(s+zt*u),r(s+zt*(u+1))])}),Lt=new bt(Wt),_t=new Dt(function(t){return ot.eq(t)}),Pt=new Dt(function(t){return it.eq(t)})}function tt(){function n(t,e){var n,r=t.length,o=[],i=[];for(n=0;n<r;n++)t[n].allDay?o.push(t[n]):i.push(t[n]);y("allDaySlot")&&(tt(o,e),k()),s(a(i),e)}function r(){H().empty(),R().empty()}function a(e){var n,r,a,s,l,c=Y(),f=A(),v=z(),h=t.map(e,i),g=[];for(r=0;r<c;r++)for(u(n=P(0,r),f),l=et(l=o(e,h,n,u(d(n),v-f))),a=0;a<l.length;a++)(s=l[a]).col=r,g.push(s);return g}function o(t,e,n,r){var a,o,i,s,l,c,u,f,v=[],h=t.length;for(a=0;a<h;a++)i=(o=t[a]).start,(s=e[a])>n&&i<r&&(i<n?(l=d(n),u=!1):(l=i,u=!0),s>r?(c=d(r),f=!1):(c=s,f=!0),v.push({event:o,start:l,end:c,isStart:u,isEnd:f}));return v.sort(ut)}function i(t){return t.end?d(t.end):u(d(t.start),y("defaultEventMinutes"))}function s(n,r){var a,o,i,s,l,u,d,v,h,g,p,m,w,D,C,M,S=n.length,T="",k=R(),H=y("isRTL");for(a=0;a<S;a++)i=(o=n[a]).event,s=O(o.start,o.start),l=O(o.start,o.end),u=L(o.col),d=_(o.col),h=(v=(d-=.025*(v=d-u))-u)*(o.forwardCoord-o.backwardCoord),y("slotEventOverlap")&&(h=Math.max(2*(h-10),h)),H?g=(p=d-o.backwardCoord*v)-h:p=(g=u+o.backwardCoord*v)+h,g=Math.max(g,u),h=(p=Math.min(p,d))-g,o.top=s,o.left=g,o.outerWidth=h,o.outerHeight=l-s,T+=c(i,o);for(k[0].innerHTML=T,m=k.children(),a=0;a<S;a++)i=(o=n[a]).event,w=t(m[a]),!1===(D=b("eventRender",i,i,w))?w.remove():(D&&!0!==D&&(w.remove(),w=t(D).css({position:"absolute",top:o.top,left:o.left}).appendTo(k)),o.element=w,i._id===r?f(i,w,o):w[0]._fci=a,J(i,w));for(E(k,n,f),a=0;a<S;a++)(w=(o=n[a]).element)&&(o.vsides=F(w,!0),o.hsides=x(w,!0),(C=w.find(".fc-event-title")).length&&(o.contentTop=C[0].offsetTop));for(a=0;a<S;a++)(w=(o=n[a]).element)&&(w[0].style.width=Math.max(0,o.outerWidth-o.hsides)+"px",M=Math.max(0,o.outerHeight-o.vsides),w[0].style.height=M+"px",i=o.event,o.contentTop!==e&&M-o.contentTop<10&&(w.find("div.fc-event-time").text(rt(i.start,y("timeFormat"))+" - "+i.title),w.find("div.fc-event-title").remove()),b("eventAfterRender",i,i,w))}function c(t,e){var n="<",r=t.url,a=j(t,y),o=["fc-event","fc-event-vert"];return w(t)&&o.push("fc-event-draggable"),e.isStart&&o.push("fc-event-start"),e.isEnd&&o.push("fc-event-end"),o=o.concat(t.className),t.source&&(o=o.concat(t.source.className||[])),n+=r?"a href='"+q(t.url)+"'":"div",n+=" class='"+o.join(" ")+"' style='position:absolute;top:"+e.top+"px;left:"+e.left+"px;"+a+"'><div class='fc-event-inner'><div class='fc-event-time'>"+q(at(t.start,t.end,y("timeFormat")))+"</div><div class='fc-event-title'>"+q(t.title||"")+"</div></div><div class='fc-event-bg'></div>",e.isEnd&&D(t)&&(n+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),n+="</"+(r?"a":"div")+">"}function f(t,e,n){var r=e.find("div.fc-event-time");w(t)&&g(t,e,r),n.isEnd&&D(t)&&p(t,e,r),S(t,e)}function v(t,e,n){function r(){c||(e.width(a).height("").draggable("option","grid",null),c=!0)}var a,o,i,s=n.isStart,c=!0,u=N(),f=B(),v=I(),g=V(),p=A();e.draggable({opacity:y("dragOpacity","month"),revertDuration:y("dragRevertDuration"),start:function(n,p){b("eventDragStart",e,t,n,p),Z(t,e),a=e.width(),u.start(function(n,a){if(K(),n){o=!1;var u=P(0,a.col),p=P(0,n.col);i=h(p,u),n.row?s?c&&(e.width(f-10),T(e,v*Math.round((t.end?(t.end-t.start)/Ft:y("defaultEventMinutes"))/g)),e.draggable("option","grid",[f,1]),c=!1):o=!0:(Q(l(d(t.start),i),l(C(t),i)),r()),o=o||c&&!i}else r(),o=!0;e.draggable("option","revert",o)},n,"drag")},stop:function(n,a){if(u.stop(),K(),b("eventDragStop",e,t,n,a),o)r(),e.css("filter",""),U(t,e);else{var s=0;c||(s=Math.round((e.offset().top-X().offset().top)/v)*g+p-(60*t.start.getHours()+t.start.getMinutes())),G(this,t,i,s,c,n,a)}}})}function g(t,e,n){function r(){K(),s&&(f?(n.hide(),e.draggable("option","grid",null),Q(l(d(t.start),w),l(C(t),w))):(a(D),n.css("display",""),e.draggable("option","grid",[T,x])))}function a(e){var r,a=u(d(t.start),e);t.end&&(r=u(d(t.end),e)),n.text(at(a,r,y("timeFormat")))}var o,i,s,c,f,v,g,p,w,D,M,E=m.getCoordinateGrid(),S=Y(),T=B(),x=I(),k=V();e.draggable({scroll:!1,grid:[T,x],axis:1==S&&"y",opacity:y("dragOpacity"),revertDuration:y("dragRevertDuration"),start:function(n,r){b("eventDragStart",e,t,n,r),Z(t,e),E.build(),o=e.position(),i=E.cell(n.pageX,n.pageY),s=c=!0,f=v=W(i),g=p=0,w=0,D=M=0},drag:function(t,n){var a=E.cell(t.pageX,t.pageY);if(s=!!a){if(f=W(a),(g=Math.round((n.position.left-o.left)/T))!=p){var l=P(0,i.col),u=i.col+g;u=Math.max(0,u),u=Math.min(S-1,u);var d=P(0,u);w=h(d,l)}f||(D=Math.round((n.position.top-o.top)/x)*k)}s==c&&f==v&&g==p&&D==M||(r(),c=s,v=f,p=g,M=D),e.draggable("option","revert",!s)},stop:function(n,a){K(),b("eventDragStop",e,t,n,a),s&&(f||w||D)?G(this,t,w,f?0:D,f,n,a):(s=!0,f=!1,g=0,w=0,D=0,r(),e.css("filter",""),e.css(o),U(t,e))}})}function p(t,e,n){var r,a,o=I(),i=V();e.resizable({handles:{s:".ui-resizable-handle"},grid:o,start:function(n,o){r=a=0,Z(t,e),b("eventResizeStart",this,t,n,o)},resize:function(s,l){(r=Math.round((Math.max(o,e.height())-l.originalSize.height)/o))!=a&&(n.text(at(t.start,r||t.end?u(M(t),i*r):null,y("timeFormat"))),a=r)},stop:function(n,a){b("eventResizeStop",this,t,n,a),r?$(this,t,0,i*r,n,a):U(t,e)}})}var m=this;m.renderEvents=n,m.clearEvents=r,m.slotSegHtml=c,dt.call(m);var y=m.opt,b=m.trigger,w=m.isEventDraggable,D=m.isEventResizable,M=m.eventEnd,S=m.eventElementHandlers,k=m.setHeight,H=m.getDaySegmentContainer,R=m.getSlotSegmentContainer,N=m.getHoverListener,z=m.getMaxMinute,A=m.getMinMinute,O=m.timePosition,W=m.getIsCellAllDay,L=m.colContentLeft,_=m.colContentRight,P=m.cellToDate,Y=m.getColCnt,B=m.getColWidth,I=m.getSnapHeight,V=m.getSnapMinutes,X=m.getSlotContainer,J=m.reportEventElement,U=m.showEvents,Z=m.hideEvents,G=m.eventDrop,$=m.eventResize,Q=m.renderDayOverlay,K=m.clearOverlays,tt=m.renderDayEvents,nt=m.calendar,rt=nt.formatDate,at=nt.formatDates;m.draggableDayEvent=v}function et(t){var e,n=nt(t),r=n[0];if(rt(n),r){for(e=0;e<r.length;e++)at(r[e]);for(e=0;e<r.length;e++)ot(r[e],0,0)}return it(n)}function nt(t){var e,n,r,a=[];for(e=0;e<t.length;e++){for(n=t[e],r=0;r<a.length&&st(n,a[r]).length;r++);(a[r]||(a[r]=[])).push(n)}return a}function rt(t){var e,n,r,a,o;for(e=0;e<t.length;e++)for(n=t[e],r=0;r<n.length;r++)for((a=n[r]).forwardSegs=[],o=e+1;o<t.length;o++)st(a,t[o],a.forwardSegs)}function at(t){var n,r,a=t.forwardSegs,o=0;if(t.forwardPressure===e){for(n=0;n<a.length;n++)at(r=a[n]),o=Math.max(o,1+r.forwardPressure);t.forwardPressure=o}}function ot(t,n,r){var a,o=t.forwardSegs;if(t.forwardCoord===e)for(o.length?(o.sort(ct),ot(o[0],n+1,r),t.forwardCoord=o[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-r)/(n+1),a=0;a<o.length;a++)ot(o[a],0,t.forwardCoord)}function it(t){var e,n,r,a=[];for(e=0;e<t.length;e++)for(n=t[e],r=0;r<n.length;r++)a.push(n[r]);return a}function st(t,e,n){n=n||[];for(var r=0;r<e.length;r++)lt(t,e[r])&&n.push(e[r]);return n}function lt(t,e){return t.end>e.start&&t.start<e.end}function ct(t,e){return e.forwardPressure-t.forwardPressure||(t.backwardCoord||0)-(e.backwardCoord||0)||ut(t,e)}function ut(t,e){return t.start-e.start||e.end-e.start-(t.end-t.start)||(t.event.title||"").localeCompare(e.event.title)}function ft(n,r,a){function o(e,n){var r=J[e];return t.isPlainObject(r)?P(r,n||a):r}function i(t,e){return r.trigger.apply(r,[t,e||_].concat(Array.prototype.slice.call(arguments,2),[_]))}function s(t){var e=t.source||{};return V(t.startEditable,e.startEditable,o("eventStartEditable"),t.editable,e.editable,o("editable"))&&!o("disableDragging")}function c(t){var e=t.source||{};return V(t.durationEditable,e.durationEditable,o("eventDurationEditable"),t.editable,e.editable,o("editable"))&&!o("disableResizing")}function f(t){j={};var e,n,r=t.length;for(e=0;e<r;e++)n=t[e],j[n._id]?j[n._id].push(n):j[n._id]=[n]}function v(){j={},I={},X=[]}function g(t){return t.end?d(t.end):q(t)}function p(t,e){X.push({event:t,element:e}),I[t._id]?I[t._id].push(e):I[t._id]=[e]}function m(){t.each(X,function(t,e){_.trigger("eventDestroy",e.event,e.event,e.element)})}function y(t,e){e.click(function(n){if(!e.hasClass("ui-draggable-dragging")&&!e.hasClass("ui-resizable-resizing"))return i("eventClick",this,t,n)}).hover(function(e){i("eventMouseover",this,t,e)},function(e){i("eventMouseout",this,t,e)})}function b(t,e){D(t,e,"show")}function w(t,e){D(t,e,"hide")}function D(t,e,n){var r,a=I[t._id],o=a.length;for(r=0;r<o;r++)e&&a[r][0]==e[0]||a[r][n]()}function C(t,e,n,r,a,o,s){var l=e.allDay,c=e._id;E(j[c],n,r,a),i("eventDrop",t,e,n,r,a,function(){E(j[c],-n,-r,l),B(c)},o,s),B(c)}function M(t,e,n,r,a,o){var s=e._id;S(j[s],n,r),i("eventResize",t,e,n,r,function(){S(j[s],-n,-r),B(s)},a,o),B(s)}function E(t,n,r,a){r=r||0;for(var o,i=t.length,s=0;s<i;s++)o=t[s],a!==e&&(o.allDay=a),u(l(o.start,n,!0),r),o.end&&(o.end=u(l(o.end,n,!0),r)),Y(o,J)}function S(t,e,n){n=n||0;for(var r,a=t.length,o=0;o<a;o++)(r=t[o]).end=u(l(g(r),e,!0),n),Y(r,J)}function T(t){return"object"==typeof t&&(t=t.getDay()),G[t]}function x(){return U}function k(t,e,n){for(e=e||1;G[(t.getDay()+(n?e:0)+7)%7];)l(t,e)}function H(){return N(F(R.apply(null,arguments)))}function R(t,e){var n=_.getColCnt(),r=K?-1:1,a=K?n-1:0;return"object"==typeof t&&(e=t.col,t=t.row),t*n+(e*r+a)}function F(t){var e=_.visStart.getDay();return t+=$[e],7*Math.floor(t/U)+Q[(t%U+U)%U]-e}function N(t){var e=d(_.visStart);return l(e,t),e}function z(t){return W(O(A(t)))}function A(t){return h(t,_.visStart)}function O(t){var e=_.visStart.getDay();return t+=e,Math.floor(t/7)*U+$[(t%7+7)%7]-$[e]}function W(t){var e=_.getColCnt(),n=K?-1:1,r=K?e-1:0;return{row:Math.floor(t/e),col:(t%e+e)%e*n+r}}function L(t,e){for(var n=_.getRowCnt(),r=_.getColCnt(),a=[],o=A(t),i=A(e),s=O(o),l=O(i)-1,c=0;c<n;c++){var u=c*r,f=u+r-1,d=Math.max(s,u),v=Math.min(l,f);if(d<=v){var h=W(d),g=W(v),p=[h.col,g.col].sort(),m=F(d)==o,y=F(v)+1==i;a.push({row:c,leftCol:p[0],rightCol:p[1],isStart:m,isEnd:y})}}return a}var _=this;_.element=n,_.calendar=r,_.name=a,_.opt=o,_.trigger=i,_.isEventDraggable=s,_.isEventResizable=c,_.setEventData=f,_.clearEventData=v,_.eventEnd=g,_.reportEventElement=p,_.triggerEventDestroy=m,_.eventElementHandlers=y,_.showEvents=b,_.hideEvents=w,_.eventDrop=C,_.eventResize=M;var q=_.defaultEventEnd,Y=r.normalizeEvent,B=r.reportEventChange,j={},I={},X=[],J=r.options;_.isHiddenDay=T,_.skipHiddenDays=k,_.getCellsPerWeek=x,_.dateToCell=z,_.dateToDayOffset=A,_.dayOffsetToCellOffset=O,_.cellOffsetToCell=W,_.cellToDate=H,_.cellToCellOffset=R,_.cellOffsetToDayOffset=F,_.dayOffsetToDate=N,_.rangeToSegments=L;var U,Z=o("hiddenDays")||[],G=[],$=[],Q=[],K=o("isRTL");!function(){!1===o("weekends")&&Z.push(0,6);for(var e=0,n=0;e<7;e++)$[e]=n,G[e]=-1!=t.inArray(e,Z),G[e]||(Q[n]=e,n++);if(!(U=n))throw"invalid hiddenDays"}()}function dt(){function e(t,e){var n=r(t,!1,!0);ht(n,function(t,e){N(t.event,e)}),b(n,e),ht(n,function(t,e){k("eventAfterRender",t.event,t.event,e)})}function n(t,e,n){var a=[];return ht(r([t],!0,!1),function(t,r){t.row===e&&r.css("top",n),a.push(r[0])}),a}function r(e,n,r){var o,l,c=Z(),d=n?t("<div/>"):c,v=a(e);return i(v),o=s(v),d[0].innerHTML=o,l=d.children(),n&&c.append(l),u(v,l),ht(v,function(t,e){t.hsides=x(e,!0)}),ht(v,function(t,e){e.width(Math.max(0,t.outerWidth-t.hsides))}),ht(v,function(t,e){t.outerHeight=e.outerHeight(!0)}),f(v,r),v}function a(t){for(var e=[],n=0;n<t.length;n++){var r=o(t[n]);e.push.apply(e,r)}return e}function o(t){for(var e=t.start,n=C(t),r=et(e,n),a=0;a<r.length;a++)r[a].event=t;return r}function i(t){for(var e=T("isRTL"),n=0;n<t.length;n++){var r=t[n],a=(e?r.isEnd:r.isStart)?J:V,o=(e?r.isStart:r.isEnd)?U:X,i=a(r.leftCol),s=o(r.rightCol);r.left=i,r.outerWidth=s-i}}function s(t){for(var e="",n=0;n<t.length;n++)e+=c(t[n]);return e}function c(t){var e="",n=T("isRTL"),r=t.event,a=r.url,o=["fc-event","fc-event-hori"];H(r)&&o.push("fc-event-draggable"),t.isStart&&o.push("fc-event-start"),t.isEnd&&o.push("fc-event-end"),o=o.concat(r.className),r.source&&(o=o.concat(r.source.className||[]));var i=j(r,T);return e+=a?"<a href='"+q(a)+"'":"<div",e+=" class='"+o.join(" ")+"' style='position:absolute;left:"+t.left+"px;"+i+"'><div class='fc-event-inner'>",!r.allDay&&t.isStart&&(e+="<span class='fc-event-time'>"+q(G(r.start,r.end,T("timeFormat")))+"</span>"),e+="<span class='fc-event-title'>"+q(r.title||"")+"</span></div>",t.isEnd&&R(r)&&(e+="<div class='ui-resizable-handle ui-resizable-"+(n?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"),e+="</"+(a?"a":"div")+">"}function u(e,n){for(var r=0;r<e.length;r++){var a=e[r],o=a.event,i=n.eq(r),s=k("eventRender",o,o,i);!1===s?i.remove():(s&&!0!==s&&(s=t(s).css({position:"absolute",left:a.left}),i.replaceWith(s),i=s),a.element=i)}}function f(t,e){var n=v(t),r=y(),a=[];if(e)for(o=0;o<r.length;o++)r[o].height(n[o]);for(var o=0;o<r.length;o++)a.push(r[o].position().top);ht(t,function(t,e){e.css("top",a[t.row]+t.top)})}function v(t){for(var e=P(),n=B(),r=[],a=g(t),o=0;o<e;o++){for(var i=a[o],s=[],l=0;l<n;l++)s.push(0);for(var c=0;c<i.length;c++){var u=i[c];u.top=L(s.slice(u.leftCol,u.rightCol+1));for(l=u.leftCol;l<=u.rightCol;l++)s[l]=u.top+u.outerHeight}r.push(L(s))}return r}function g(t){var e,n,r,a=P(),o=[];for(e=0;e<t.length;e++)r=(n=t[e]).row,n.element&&(o[r]?o[r].push(n):o[r]=[n]);for(r=0;r<a;r++)o[r]=p(o[r]||[]);return o}function p(t){for(var e=[],n=m(t),r=0;r<n.length;r++)e.push.apply(e,n[r]);return e}function m(t){t.sort(gt);for(var e=[],n=0;n<t.length;n++){for(var r=t[n],a=0;a<e.length&&vt(r,e[a]);a++);e[a]?e[a].push(r):e[a]=[r]}return e}function y(){var t,e=P(),n=[];for(t=0;t<e;t++)n[t]=I(t).find("div.fc-day-content > div");return n}function b(t,e){var n=Z();ht(t,function(t,n,r){var a=t.event;a._id===e?w(a,n,t):n[0]._fci=r}),E(n,t,w)}function w(t,e,n){H(t)&&S.draggableDayEvent(t,e,n),n.isEnd&&R(t)&&S.resizableDayEvent(t,e,n),z(t,e)}function D(t,e){var n,r=tt();e.draggable({delay:50,opacity:T("dragOpacity"),revertDuration:T("dragRevertDuration"),start:function(a,o){k("eventDragStart",e,t,a,o),O(t,e),r.start(function(r,a,o,i){if(e.draggable("option","revert",!r||!o&&!i),Q(),r){var s=nt(a),c=nt(r);n=h(c,s),$(l(d(t.start),n),l(C(t),n))}else n=0},a,"drag")},stop:function(a,o){r.stop(),Q(),k("eventDragStop",e,t,a,o),n?W(this,t,n,0,t.allDay,a,o):(e.css("filter",""),A(t,e))}})}function M(e,r,a){var o=T("isRTL")?"w":"e",i=r.find(".ui-resizable-"+o),s=!1;Y(r),r.mousedown(function(t){t.preventDefault()}).click(function(t){s&&(t.preventDefault(),t.stopImmediatePropagation())}),i.mousedown(function(i){function c(n){k("eventResizeStop",this,e,n),t("body").css("cursor",""),d.stop(),Q(),u&&_(this,e,u,0,n),setTimeout(function(){s=!1},0)}if(1==i.which){s=!0;var u,f,d=tt(),v=(P(),B(),r.css("top")),h=t.extend({},e),g=it(ot(e.start));K(),t("body").css("cursor",o+"-resize").one("mouseup",c),k("eventResizeStart",this,e,i),d.start(function(r,i){if(r){var s=rt(i),c=rt(r);if(c=Math.max(c,g),u=at(c)-at(s)){h.end=l(F(e),u,!0);var d=f;f=n(h,a.row,v),(f=t(f)).find("*").css("cursor",o+"-resize"),d&&d.remove(),O(e)}else f&&(A(e),f.remove(),f=null);Q(),$(e.start,l(C(e),u))}},i)}})}var S=this;S.renderDayEvents=e,S.draggableDayEvent=D,S.resizableDayEvent=M;var T=S.opt,k=S.trigger,H=S.isEventDraggable,R=S.isEventResizable,F=S.eventEnd,N=S.reportEventElement,z=S.eventElementHandlers,A=S.showEvents,O=S.hideEvents,W=S.eventDrop,_=S.eventResize,P=S.getRowCnt,B=S.getColCnt,I=(S.getColWidth,S.allDayRow),V=S.colLeft,X=S.colRight,J=S.colContentLeft,U=S.colContentRight,Z=(S.dateToCell,S.getDaySegmentContainer),G=S.calendar.formatDates,$=S.renderDayOverlay,Q=S.clearOverlays,K=S.clearSelection,tt=S.getHoverListener,et=S.rangeToSegments,nt=S.cellToDate,rt=S.cellToCellOffset,at=S.cellOffsetToDayOffset,ot=S.dateToDayOffset,it=S.dayOffsetToCellOffset}function vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(r.leftCol<=t.rightCol&&r.rightCol>=t.leftCol)return!0}return!1}function ht(t,e){for(var n=0;n<t.length;n++){var r=t[n],a=r.element;a&&e(r,a,n)}}function gt(t,e){return e.rightCol-e.leftCol-(t.rightCol-t.leftCol)||e.event.allDay-t.event.allDay||t.event.start-e.event.start||(t.event.title||"").localeCompare(e.event.title)}function pt(){function e(t,e,a){n(),e||(e=l(t,a)),c(t,e,a),r(t,e,a)}function n(t){f&&(f=!1,u(),s("unselect",null,t))}function r(t,e,n,r){f=!0,s("select",null,t,e,n,r)}function a(e){var a=o.cellToDate,s=o.getIsCellAllDay,l=o.getHoverListener(),f=o.reportDayClick;if(1==e.which&&i("selectable")){n(e);var d;l.start(function(t,e){u(),t&&s(t)?(d=[a(e),a(t)].sort(W),c(d[0],d[1],!0)):d=null},e),t(document).one("mouseup",function(t){l.stop(),d&&(+d[0]==+d[1]&&f(d[0],!0,t),r(d[0],d[1],!0,t))})}}var o=this;o.select=e,o.unselect=n,o.reportSelection=r,o.daySelectionMousedown=a;var i=o.opt,s=o.trigger,l=o.defaultSelectionEnd,c=o.renderSelection,u=o.clearSelection,f=!1;i("selectable")&&i("unselectAuto")&&t(document).mousedown(function(e){var r=i("unselectCancel");r&&t(e.target).parents(r).length||n(e)})}function mt(){function e(e,n){var r=o.shift();return r||(r=t("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),r[0].parentNode!=n[0]&&r.appendTo(n),a.push(r.css(e).show()),r}function n(){for(var t;t=a.shift();)o.push(t.hide().unbind())}var r=this;r.renderOverlay=e,r.clearOverlays=n;var a=[],o=[]}function yt(t){var e,n,r=this;r.build=function(){t(e=[],n=[])},r.cell=function(t,r){var a,o=e.length,i=n.length,s=-1,l=-1;for(a=0;a<o;a++)if(r>=e[a][0]&&r<e[a][1]){s=a;break}for(a=0;a<i;a++)if(t>=n[a][0]&&t<n[a][1]){l=a;break}return s>=0&&l>=0?{row:s,col:l}:null},r.rect=function(t,r,a,o,i){var s=i.offset();return{top:e[t][0]-s.top,left:n[r][0]-s.left,width:n[o][1]-n[r][0],height:e[a][1]-e[t][0]}}}function bt(e){function n(t){wt(t);var n=e.cell(t.pageX,t.pageY);(!n!=!i||n&&(n.row!=i.row||n.col!=i.col))&&(n?(o||(o=n),a(n,o,n.row-o.row,n.col-o.col)):a(n,o),i=n)}var r,a,o,i,s=this;s.start=function(s,l,c){a=s,o=i=null,e.build(),n(l),r=c||"mousemove",t(document).bind(r,n)},s.stop=function(){return t(document).unbind(r,n),i}}function wt(t){t.pageX===e&&(t.pageX=t.originalEvent.pageX,t.pageY=t.originalEvent.pageY)}function Dt(t){function n(e){return a[e]=a[e]||t(e)}var r=this,a={},o={},i={};r.left=function(t){return o[t]=o[t]===e?n(t).position().left:o[t]},r.right=function(t){return i[t]=i[t]===e?r.left(t)+n(t).width():i[t]},r.clear=function(){a={},o={},i={}}}var Ct={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"hoy ant,sig"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Dicembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],dayNames:["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sábado"],dayNamesShort:["Dom","Lun","Mar","Mie","Jue","Vie","Sáb"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"hoy",month:"mes",week:"sem",day:"día"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*",handleWindowResize:!0},Mt={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Et=t.fullCalendar={version:"1.6.4"},St=Et.views={};t.fn.fullCalendar=function(n){if("string"==typeof n){var a,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var r=t.data(this,"fullCalendar");if(r&&t.isFunction(r[n])){var i=r[n].apply(r,o);a===e&&(a=i),"destroy"==n&&t.removeData(this,"fullCalendar")}}),a!==e?a:this}var i=(n=n||{}).eventSources||[];return delete n.eventSources,n.events&&(i.push(n.events),delete n.events),n=t.extend(!0,{},Ct,n.isRTL||n.isRTL===e&&Ct.isRTL?Mt:{},n),this.each(function(e,a){var o=t(a),s=new r(o,n,i);o.data("fullCalendar",s),s.render()}),this},Et.sourceNormalizers=[],Et.sourceFetchers=[];var Tt={dataType:"json",cache:!1},xt=1;Et.addDays=l,Et.cloneDate=d,Et.parseDate=p,Et.parseISO8601=m,Et.parseTime=y,Et.formatDate=b,Et.formatDates=w;var kt=["sun","mon","tue","wed","thu","fri","sat"],Ht=864e5,Rt=36e5,Ft=6e4,Nt={s:function(t){return t.getSeconds()},ss:function(t){return _(t.getSeconds())},m:function(t){return t.getMinutes()},mm:function(t){return _(t.getMinutes())},h:function(t){return t.getHours()%12||12},hh:function(t){return _(t.getHours()%12||12)},H:function(t){return t.getHours()},HH:function(t){return _(t.getHours())},d:function(t){return t.getDate()},dd:function(t){return _(t.getDate())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return t.getMonth()+1},MM:function(t){return _(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},yy:function(t){return(t.getFullYear()+"").substring(2)},yyyy:function(t){return t.getFullYear()},t:function(t){return t.getHours()<12?"a":"p"},tt:function(t){return t.getHours()<12?"am":"pm"},T:function(t){return t.getHours()<12?"A":"P"},TT:function(t){return t.getHours()<12?"AM":"PM"},u:function(t){return b(t,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(t){var e=t.getDate();return e>10&&e<20?"th":["st","nd","rd"][e%10-1]||"th"},w:function(t,e){return e.weekNumberCalculation(t)},W:function(t){return D(t)}};Et.dateFormatters=Nt,Et.applyAll=I,St.month=X,St.basicWeek=J,St.basicDay=U,n({weekMode:"fixed"}),St.agendaWeek=$,St.agendaDay=Q,n({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24,slotEventOverlap:!0})}(jQuery);