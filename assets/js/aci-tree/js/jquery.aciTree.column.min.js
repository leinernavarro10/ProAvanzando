!function(i,e,t){var n={columnData:[]},s={__extend:function(){i.extend(this._private,{propsIndex:{}}),this._super()},_initHook:function(){if(this._instance.options.columnData.length){var i,e=!1;for(var t in this._instance.options.columnData)void 0!==(i=this._instance.options.columnData[t]).width&&(this._updateCss(".aciTree.aciTree"+this._instance.index+" .aciTreeColumn"+t,"width:"+i.width+"px;"),e=!0),this._private.propsIndex[i.props]=t;e&&this._updateWidth()}this._super()},_getCss:function(t,n,s){var a="_getCss_"+e.String(t).replace(/[^a-z0-9_-]/gi,"_"),r=i("body").find("#"+a);if(!r.length){if(t instanceof Array){var o="",c="";for(var l in t)o+='<div class="'+t[l]+'">',c+="</div>";o+=c}else o='<div class="'+t+'"></div>';i("body").append('<div id="'+a+'" style="position:relative;display:inline-block;width:0px;height:0px;line-height:0px;overflow:hidden">'+o+"</div>"),r=i("body").find("#"+a)}var u=r.find("*:last").css(n);return s&&(u=parseInt(u),isNaN(u)&&(u=null)),u},_updateCss:function(t,n){var s="_updateCss_"+e.String(t).replace(">","_gt_").replace(/[^a-z0-9_-]/gi,"_"),a='<style id="'+s+'" type="text/css">'+t+"{"+n+"}</style>",r=i("body").find("#"+s);r.length?r.replaceWith(a):i("body").prepend(a)},getWidth:function(i){return i>=0&&i<this.columns()?this._getCss(["aciTree aciTree"+this._instance.index,"aciTreeColumn"+i],"width",!0):null},setWidth:function(i,e){i>=0&&i<this.columns()&&(this._updateCss(".aciTree.aciTree"+this._instance.index+" .aciTreeColumn"+i,"width:"+e+"px;"),this._updateWidth())},_updateWidth:function(){var i=0;for(var e in this._instance.options.columnData)this.isColumn(e)&&(i+=this.getWidth(e));var t=this._getCss(["aciTree","aciTreeIcon"],"width",!0);i+=this._getCss(["aciTree","aciTreeItem"],"padding-left",!0)+this._getCss(["aciTree","aciTreeItem"],"padding-right",!0),this._updateCss(".aciTree.aciTree"+this._instance.index+" .aciTreeItem","margin-right:"+(t+i)+"px;"),this._updateCss(".aciTree[dir=rtl].aciTree"+this._instance.index+" .aciTreeItem","margin-right:0;margin-left:"+(t+i)+"px;")},isColumn:function(i){return i>=0&&i<this.columns()&&"none"!=this._getCss(["aciTree aciTree"+this._instance.index,"aciTreeColumn"+i],"display")},columnIndex:function(i){return void 0!==this._private.propsIndex[i]?this._private.propsIndex[i]:-1},columns:function(){return this._instance.options.columnData.length},toggleColumn:function(i,e){if(i>=0&&i<this.columns()){if(void 0===e)var e=!this.isColumn(i);this._updateCss(".aciTree.aciTree"+this._instance.index+" .aciTreeColumn"+i,"display:"+(e?"inherit":"none")+";"),this._updateWidth()}},_itemHook:function(i,e,t,n){if(this.columns()){var s,a,r=e.children(".aciTreeLine").find(".aciTreeEntry");for(var o in this._instance.options.columnData)s=this._instance.options.columnData[o],a=this._createColumn(t,s,o),r.prepend(a)}this._super(i,e,t,n)},_createColumn:function(e,t,n){var s=t.props&&void 0!==e[t.props]?e[t.props]:void 0===t.value?"":t.value;return i('<div class="aciTreeColumn aciTreeColumn'+n+'">'+(s.length?s:"&nbsp;")+"</div>")},setColumn:function(i,e){if(e=this._options(e,"columnset","columnfail","wascolumn",i),this.isItem(i)&&e.index>=0&&e.index<this.columns()){if(!this._trigger(i,"beforecolumn",e))return void this._fail(i,e);var t=this.itemData(i);e.oldValue=t[this._instance.options.columnData[e.index].props],e.value==e.oldValue?this._notify(i,e):(i.children(".aciTreeLine").find(".aciTreeColumn"+e.index).html(e.value),t[this._instance.options.columnData[e.index].props]=e.value,this._success(i,e))}else this._fail(i,e)},getColumn:function(i,e){if(e>=0&&e<this.columns()){var t=this.itemData(i);return t?t[this._instance.options.columnData[e].props]:null}return null}};aciPluginClass.plugins.aciTree=aciPluginClass.plugins.aciTree.extend(s,"aciTreeColumn"),aciPluginClass.defaults("aciTree",n)}(jQuery,this);